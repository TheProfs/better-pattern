<link rel="import" href="/bower_components/polymer/polymer.html">
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>

<dom-module id="pattern-app">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <h1> Hello [[text]] </h1>
  </template>

  <script>
    Polymer({

      is: 'pattern-app',

      properties: {
        text: {
          type: String,
          value: 'World'
        },
      },

      attached: function() {
        window.patternApp = this
        this.socket = io({
          reconnection: true,
          transports: ['websocket']
        })

        this.socket.emit('paper-event', { hello: 'world' })
        this.socket.on('paper-event', event => {
          console.log('paper-event-received', event)
        })
      }
    })
  </script>
</dom-module>
